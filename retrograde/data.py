my_portfolios = [
    {'id': 1,'name': 'Nancy Pelosi Tracker', 'date': '13/03/2023', 'value': '193.58M', 'change': '+0.22%', 'change_status': 'POSITIVE',
     'price_data': [
         {'labels': [
    '2023-01-01', '2023-01-02', '2023-01-03', '2023-01-04', '2023-01-05',
    '2023-01-06', '2023-01-07', '2023-01-08', '2023-01-09', '2023-01-10',
    '2023-01-11', '2023-01-12', '2023-01-13', '2023-01-14', '2023-01-15',
    '2023-01-16', '2023-01-17', '2023-01-18', '2023-01-19', '2023-01-20',
    '2023-01-21', '2023-01-22', '2023-01-23', '2023-01-24', '2023-01-25',
    '2023-01-26', '2023-01-27', '2023-01-28', '2023-01-29', '2023-01-30',
    '2023-01-31', '2023-02-01', '2023-02-02', '2023-02-03', '2023-02-04',
    '2023-02-05', '2023-02-06', '2023-02-07', '2023-02-08', '2023-02-09',
    '2023-02-10', '2023-02-11', '2023-02-12', '2023-02-13', '2023-02-14',
    '2023-02-15', '2023-02-16', '2023-02-17', '2023-02-18', '2023-02-19',
    '2023-02-20', '2023-02-21', '2023-02-22', '2023-02-23', '2023-02-24',
    '2023-02-25', '2023-02-26', '2023-02-27', '2023-02-28', '2023-03-01'
]},
    {'data': [
    10, 94.56077962, 13.5483871, 102.043299, 17.09677419,
    80.47719034, 20.64516129, 106.1863637, 57.16677042, 25.96774194,
    113.4682754, 40.84578657, 31.29032258, 98.31954778, 62.89983476,
    36.61290323, 94.01987821, 40.16129032, 109.188625, 65.24511113,
    45.48387097, 47.25806452, 59.43269069, 50.80645161, 66.24110061,
    84.28740143, 56.12903226, 104.1992829, 95.81817681, 61.4516129,
    102.2464177, 65, 90.67075719, 68.5483871, 108.6191761, 61.56349007,
    72.09677419, 73.87096774, 70.76554806, 77.41935484, 100.9963222,
    80.96774194, 63.66486156, 82.74193548, 95.01154862, 102.3329297,
    96.23353649, 104.7204586, 93.38709677, 99.98405184, 95.16129032,
    108.7759006, 91.24777863, 103.9316232, 100, 101.7741935, 91.20592352,
    103.5483871, 105.3225806
]},
{'cash': [
    5, 6, 5.5, 7, 6.5,
    6, 7, 5.8, 6.2, 6.1,
    7.2, 5.5, 6, 6.2, 6.5,
    5.8, 6.1, 5.9, 6.3, 6.7,
    6, 6.2, 6.1, 6.4, 6.3,
    6.5, 6.1, 6.3, 6.2, 6.4,
    6.7, 6, 6.3, 6.5, 6.2,
    6.4, 6.2, 6.3, 6.1, 6.5,
    6.2, 6.4, 6.1, 6.3, 6.2,
    6.4, 6.6, 6.1, 6.3, 6.2,
    6.4, 6.2, 6.3, 6.5, 6.2,
    6.4, 6.2, 6.3, 6.1, 6.5,
    6.2, 6.4, 6.1, 6.3, 6.2
]},
{'appl': [
    12.4, 13, 12.4, 12, 12.8,
    12.6, 12.2, 12.6, 13.4, 12.4,
    12.8, 12.2, 12.6, 12.4, 12.8,
    12, 12.4, 12.2, 12.6, 13,
    12.2, 12.8, 13.2, 12, 12.6,
    13, 11.6, 12.4, 13, 14,
    12.8, 13, 12, 12.4, 12.2,
    12.6, 13.4, 12.2, 12.6, 12.4,
    11.6, 12.6, 12.4, 12.8, 13.4,
    12.8, 12, 12.6, 12.4, 12.8,
    11.8, 12.2, 12, 12.4, 12.8,
    12.4, 12.8, 12.2, 12.6, 12.4,
    12.8, 12.4, 12.6, 12.2, 12.8
]
},
     ]},
    {'id': 2, 'name': 'BlackRock Sample', 'date': '13/03/2023', 'value': '33.21M', 'change': '+0.03%','change_status': 'POSITIVE',
     'price_data': [
         {'labels': ['2023-01-01', '2023-01-02', '2023-01-03', '2023-01-04', '2023-01-05', '2023-01-06', '2023-01-07', '2023-01-08', '2023-01-09', '2023-01-10', '2023-01-11', '2023-01-12', '2023-01-13', '2023-01-14', '2023-01-15', '2023-01-16', '2023-01-17', '2023-01-18', '2023-01-19', '2023-01-20', '2023-01-21', '2023-01-22', '2023-01-23', '2023-01-24', '2023-01-25', '2023-01-26', '2023-01-27', '2023-01-28', '2023-01-29', '2023-01-30', '2023-01-31']},
        {'data': [10, 25, 18, 32, 20, 22, 28, 15, 30, 22, 19, 25, 27, 29, 35, 18, 22, 28, 31, 24, 20, 26, 29, 32, 20, 18, 24, 26, 30, 28, 25, 22, 18]}

     ]},
    {'id': 3, 'name': 'My Safe Fallback Plan', 'date': '13/03/2023', 'value': '56.01M', 'change': '-0.01%','change_status': 'NEGATIVE',
     'price_data': [
{'labels': [
        '2023-01-01', '2023-02-01', '2023-03-01', '2023-04-01', '2023-05-01',
        '2023-06-01', '2023-07-01', '2023-08-01', '2023-09-01', '2023-10-01',
        '2023-11-01', '2023-12-01', '2024-01-01', '2024-02-01', '2024-03-01'
    ]},
    {'data': [4.8, 8.1, 9.2, 12.3, 16.1, 19.8, 24.9, 30.3, 33.1, 41.2, 43.8, 51.1, 53.2, 60.4, 66.3]
}
     ]},
]

asset_sample = {
    'ticker': "APPL",
    'chart_data': [
{'x': 1491004800000, 'o': 28.92, 'h': 31.07, 'l': 26.43, 'c': 29.51},
{'x': 1491177600000, 'o': 30.86, 'h': 32.58, 'l': 28.98, 'c': 29.44},
{'x': 1491264000000, 'o': 29.17, 'h': 32.31, 'l': 28.84, 'c': 29.41},
{'x': 1491350400000, 'o': 30.59, 'h': 31.62, 'l': 27.48, 'c': 30.05},
{'x': 1491436800000, 'o': 29.82, 'h': 30.8, 'l': 28.39, 'c': 30.22},
{'x': 1491523200000, 'o': 29.1, 'h': 30.35, 'l': 26.42, 'c': 29.3},
{'x': 1491782400000, 'o': 29.61, 'h': 32, 'l': 26.55, 'c': 29.23},
{'x': 1491868800000, 'o': 28.41, 'h': 29.53, 'l': 27.93, 'c': 28.33},
{'x': 1491955200000, 'o': 27.9, 'h': 29.36, 'l': 25.93, 'c': 27.84},
{'x': 1492041600000, 'o': 26.76, 'h': 28.26, 'l': 23.69, 'c': 26.14},
{'x': 1492128000000, 'o': 26.58, 'h': 27.04, 'l': 24.95, 'c': 26.01},
{'x': 1492387200000, 'o': 26.05, 'h': 27.83, 'l': 23.63, 'c': 25.68},
{'x': 1492473600000, 'o': 24.6, 'h': 25.78, 'l': 22.2, 'c': 25.71},
{'x': 1492560000000, 'o': 25.43, 'h': 27.93, 'l': 24.43, 'c': 24.8},
{'x': 1492646400000, 'o': 24.27, 'h': 27.3, 'l': 23.94, 'c': 25.23},
{'x': 1492732800000, 'o': 26.44, 'h': 28.81, 'l': 25.64, 'c': 25.77},
{'x': 1492992000000, 'o': 26.09, 'h': 26.25, 'l': 23.84, 'c': 25.53},
{'x': 1493078400000, 'o': 26.66, 'h': 28.27, 'l': 25.21, 'c': 26.11},
{'x': 1493164800000, 'o': 25.82, 'h': 26.89, 'l': 25.71, 'c': 25.93},
{'x': 1493251200000, 'o': 24.76, 'h': 24.88, 'l': 22.83, 'c': 24.28},
{'x': 1493337600000, 'o': 23.86, 'h': 25.29, 'l': 22.64, 'c': 24.22},
{'x': 1493596800000, 'o': 24.61, 'h': 25.64, 'l': 22.81, 'c': 25.4},
{'x': 1493683200000, 'o': 24.5, 'h': 25.42, 'l': 22.64, 'c': 23.58},
{'x': 1493769600000, 'o': 24.03, 'h': 25.39, 'l': 22.91, 'c': 25.15},
{'x': 1493856000000, 'o': 24.64, 'h': 24.98, 'l': 22.14, 'c': 23.66},
{'x': 1493942400000, 'o': 22.54, 'h': 23.28, 'l': 20.95, 'c': 22.14},
{'x': 1494201600000, 'o': 21.25, 'h': 23.53, 'l': 20.61, 'c': 22.16},
{'x': 1494288000000, 'o': 21.35, 'h': 23.13, 'l': 20.21, 'c': 21.87},
{'x': 1494374400000, 'o': 21.46, 'h': 23.73, 'l': 19.89, 'c': 21.66},
{'x': 1494460800000, 'o': 21.65, 'h': 22.59, 'l': 18.88, 'c': 20.64},
{'x': 1494547200000, 'o': 19.94, 'h': 20.15, 'l': 19.27, 'c': 19.29},
{'x': 1494806400000, 'o': 18.88, 'h': 21.32, 'l': 17.68, 'c': 19.66},
{'x': 1494892800000, 'o': 19.16, 'h': 19.62, 'l': 18.46, 'c': 19.37},
{'x': 1494979200000, 'o': 20.3, 'h': 20.46, 'l': 19.68, 'c': 20.28},
{'x': 1495065600000, 'o': 20.6, 'h': 20.72, 'l': 19.43, 'c': 20.35},
{'x': 1495152000000, 'o': 19.6, 'h': 19.89, 'l': 18.48, 'c': 19.16},
{'x': 1495411200000, 'o': 18.85, 'h': 20.31, 'l': 17.48, 'c': 19.09},
{'x': 1495497600000, 'o': 19.4, 'h': 21.54, 'l': 19.24, 'c': 20.21},
{'x': 1495584000000, 'o': 19.43, 'h': 21.15, 'l': 19.05, 'c': 20.19},
{'x': 1495670400000, 'o': 20.64, 'h': 21.1, 'l': 19.59, 'c': 20.11},
{'x': 1495756800000, 'o': 20.88, 'h': 23.77, 'l': 20.48, 'c': 21.77},
{'x': 1496016000000, 'o': 21.76, 'h': 24.3, 'l': 20.32, 'c': 22.66},
{'x': 1496102400000, 'o': 22.47, 'h': 24.62, 'l': 21.38, 'c': 22.4},
{'x': 1496188800000, 'o': 23.39, 'h': 25.95, 'l': 22.44, 'c': 23.7},
{'x': 1496275200000, 'o': 23.91, 'h': 25.21, 'l': 22.08, 'c': 22.75},
{'x': 1496361600000, 'o': 23.8, 'h': 24.98, 'l': 22.88, 'c': 24.73},
{'x': 1496620800000, 'o': 24.22, 'h': 24.6, 'l': 21.09, 'c': 23.12},
{'x': 1496707200000, 'o': 23.76, 'h': 25.59, 'l': 21.51, 'c': 24.9},
{'x': 1496793600000, 'o': 24.51, 'h': 25.21, 'l': 22.77, 'c': 24.32},
{'x': 1496880000000, 'o': 24.3, 'h': 26.02, 'l': 22.74, 'c': 23.43},
{'x': 1496966400000, 'o': 23.68, 'h': 24.15, 'l': 23.24, 'c': 23.46},
{'x': 1497225600000, 'o': 23.1, 'h': 24.4, 'l': 20.27, 'c': 22.26},
{'x': 1497312000000, 'o': 22.88, 'h': 23.5, 'l': 20.76, 'c': 23.3},
{'x': 1497398400000, 'o': 22.48, 'h': 23.76, 'l': 21.01, 'c': 22.29},
{'x': 1497484800000, 'o': 22.93, 'h': 24.91, 'l': 22.89, 'c': 23.77},
{'x': 1497571200000, 'o': 23.17, 'h': 23.61, 'l': 21.63, 'c': 22.23},
{'x': 1497830400000, 'o': 21.71, 'h': 23.46, 'l': 20.49, 'c': 21.48},
{'x': 1497916800000, 'o': 22.06, 'h': 24.1, 'l': 20.61, 'c': 22.95},
{'x': 1498003200000, 'o': 22.23, 'h': 22.98, 'l': 20.88, 'c': 21.47},
{'x': 1498089600000, 'o': 21.58, 'h': 22.53, 'l': 20.19, 'c': 21.5}
]
}

candle_stick_data = [
{'x': 1491004800000, 'o': 28.92, 'h': 31.07, 'l': 26.43, 'c': 29.51},
{'x': 1491177600000, 'o': 30.86, 'h': 32.58, 'l': 28.98, 'c': 29.44},
{'x': 1491264000000, 'o': 29.17, 'h': 32.31, 'l': 28.84, 'c': 29.41},
{'x': 1491350400000, 'o': 30.59, 'h': 31.62, 'l': 27.48, 'c': 30.05},
{'x': 1491436800000, 'o': 29.82, 'h': 30.8, 'l': 28.39, 'c': 30.22},
{'x': 1491523200000, 'o': 29.1, 'h': 30.35, 'l': 26.42, 'c': 29.3},
{'x': 1491782400000, 'o': 29.61, 'h': 32, 'l': 26.55, 'c': 29.23},
{'x': 1491868800000, 'o': 28.41, 'h': 29.53, 'l': 27.93, 'c': 28.33},
{'x': 1491955200000, 'o': 27.9, 'h': 29.36, 'l': 25.93, 'c': 27.84},
{'x': 1492041600000, 'o': 26.76, 'h': 28.26, 'l': 23.69, 'c': 26.14},
{'x': 1492128000000, 'o': 26.58, 'h': 27.04, 'l': 24.95, 'c': 26.01},
{'x': 1492387200000, 'o': 26.05, 'h': 27.83, 'l': 23.63, 'c': 25.68},
{'x': 1492473600000, 'o': 24.6, 'h': 25.78, 'l': 22.2, 'c': 25.71},
{'x': 1492560000000, 'o': 25.43, 'h': 27.93, 'l': 24.43, 'c': 24.8},
{'x': 1492646400000, 'o': 24.27, 'h': 27.3, 'l': 23.94, 'c': 25.23},
{'x': 1492732800000, 'o': 26.44, 'h': 28.81, 'l': 25.64, 'c': 25.77},
{'x': 1492992000000, 'o': 26.09, 'h': 26.25, 'l': 23.84, 'c': 25.53},
{'x': 1493078400000, 'o': 26.66, 'h': 28.27, 'l': 25.21, 'c': 26.11},
{'x': 1493164800000, 'o': 25.82, 'h': 26.89, 'l': 25.71, 'c': 25.93},
{'x': 1493251200000, 'o': 24.76, 'h': 24.88, 'l': 22.83, 'c': 24.28},
{'x': 1493337600000, 'o': 23.86, 'h': 25.29, 'l': 22.64, 'c': 24.22},
{'x': 1493596800000, 'o': 24.61, 'h': 25.64, 'l': 22.81, 'c': 25.4},
{'x': 1493683200000, 'o': 24.5, 'h': 25.42, 'l': 22.64, 'c': 23.58},
{'x': 1493769600000, 'o': 24.03, 'h': 25.39, 'l': 22.91, 'c': 25.15},
{'x': 1493856000000, 'o': 24.64, 'h': 24.98, 'l': 22.14, 'c': 23.66},
{'x': 1493942400000, 'o': 22.54, 'h': 23.28, 'l': 20.95, 'c': 22.14},
{'x': 1494201600000, 'o': 21.25, 'h': 23.53, 'l': 20.61, 'c': 22.16},
{'x': 1494288000000, 'o': 21.35, 'h': 23.13, 'l': 20.21, 'c': 21.87},
{'x': 1494374400000, 'o': 21.46, 'h': 23.73, 'l': 19.89, 'c': 21.66},
{'x': 1494460800000, 'o': 21.65, 'h': 22.59, 'l': 18.88, 'c': 20.64},
{'x': 1494547200000, 'o': 19.94, 'h': 20.15, 'l': 19.27, 'c': 19.29},
{'x': 1494806400000, 'o': 18.88, 'h': 21.32, 'l': 17.68, 'c': 19.66},
{'x': 1494892800000, 'o': 19.16, 'h': 19.62, 'l': 18.46, 'c': 19.37},
{'x': 1494979200000, 'o': 20.3, 'h': 20.46, 'l': 19.68, 'c': 20.28},
{'x': 1495065600000, 'o': 20.6, 'h': 20.72, 'l': 19.43, 'c': 20.35},
{'x': 1495152000000, 'o': 19.6, 'h': 19.89, 'l': 18.48, 'c': 19.16},
{'x': 1495411200000, 'o': 18.85, 'h': 20.31, 'l': 17.48, 'c': 19.09},
{'x': 1495497600000, 'o': 19.4, 'h': 21.54, 'l': 19.24, 'c': 20.21},
{'x': 1495584000000, 'o': 19.43, 'h': 21.15, 'l': 19.05, 'c': 20.19},
{'x': 1495670400000, 'o': 20.64, 'h': 21.1, 'l': 19.59, 'c': 20.11},
{'x': 1495756800000, 'o': 20.88, 'h': 23.77, 'l': 20.48, 'c': 21.77},
{'x': 1496016000000, 'o': 21.76, 'h': 24.3, 'l': 20.32, 'c': 22.66},
{'x': 1496102400000, 'o': 22.47, 'h': 24.62, 'l': 21.38, 'c': 22.4},
{'x': 1496188800000, 'o': 23.39, 'h': 25.95, 'l': 22.44, 'c': 23.7},
{'x': 1496275200000, 'o': 23.91, 'h': 25.21, 'l': 22.08, 'c': 22.75},
{'x': 1496361600000, 'o': 23.8, 'h': 24.98, 'l': 22.88, 'c': 24.73},
{'x': 1496620800000, 'o': 24.22, 'h': 24.6, 'l': 21.09, 'c': 23.12},
{'x': 1496707200000, 'o': 23.76, 'h': 25.59, 'l': 21.51, 'c': 24.9},
{'x': 1496793600000, 'o': 24.51, 'h': 25.21, 'l': 22.77, 'c': 24.32},
{'x': 1496880000000, 'o': 24.3, 'h': 26.02, 'l': 22.74, 'c': 23.43},
{'x': 1496966400000, 'o': 23.68, 'h': 24.15, 'l': 23.24, 'c': 23.46},
{'x': 1497225600000, 'o': 23.1, 'h': 24.4, 'l': 20.27, 'c': 22.26},
{'x': 1497312000000, 'o': 22.88, 'h': 23.5, 'l': 20.76, 'c': 23.3},
{'x': 1497398400000, 'o': 22.48, 'h': 23.76, 'l': 21.01, 'c': 22.29},
{'x': 1497484800000, 'o': 22.93, 'h': 24.91, 'l': 22.89, 'c': 23.77},
{'x': 1497571200000, 'o': 23.17, 'h': 23.61, 'l': 21.63, 'c': 22.23},
{'x': 1497830400000, 'o': 21.71, 'h': 23.46, 'l': 20.49, 'c': 21.48},
{'x': 1497916800000, 'o': 22.06, 'h': 24.1, 'l': 20.61, 'c': 22.95},
{'x': 1498003200000, 'o': 22.23, 'h': 22.98, 'l': 20.88, 'c': 21.47},
{'x': 1498089600000, 'o': 21.58, 'h': 22.53, 'l': 20.19, 'c': 21.5}
]

"""
Each portfolio has a list of assets that it holds. We can call each of these an asset record.
Each asset record has a time chart containing price data, volume data, value data. One minute is the timeunit.
Each time shares are bought or sold it updates volume record. Run a price and value update.
Each time data is requested. Run a price and value update.
    1. Download price data from the date that it is not available from. Must contain a value for each minute.
    2. Calculate value data 
    3. render that data pack it together.
"""

asset_record = {
    'ticker': 'AAPL',
    # other
    'data': [
        {'time': 0, 'price': 150, 'units': 10, 'value': 1500},
        {'time': 1, 'price': 152, 'units': 10, 'value': 1520},
        {'time': 2, 'price': 153, 'units': 12, 'value': 1824},
        {'time': 3, 'price': 154.4, 'units': 12, 'value': 1852.8},
    ]
    # func: property current_price, current_volume, current_value
    # func: buy
    # func: sell
    # func: 
}